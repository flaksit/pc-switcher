# Spec Review: 004-python-logging

1. The config surface is underspecified: the spec doesn’t define the exact config keys/structure or the allowed log level strings (including case-sensitivity) for `file`, `tui`, and `external`, nor whether defaults apply per-missing-field or only when the whole block is absent. This can lead to divergent implementations and user confusion.
2. The effective filtering rule for external library logs is implied but not stated. Please make the rule explicit (e.g., external logs are shown only if they meet both the `external` threshold and the destination threshold, and `external` does not apply to pcswitcher logs). Without this, teams may implement different precedence/combination behavior.
3. “External libraries” vs “pcswitcher modules” is not defined. Clarify how logs are classified (e.g., based on logger namespace or some other user-visible rule) so it’s clear which messages are governed by `external`.
4. User Story 3 Acceptance Scenario 2 requires per-module log level configuration, but no requirement or config surface exists for module-specific levels. Either add a requirement for module-level configuration or remove/adjust that scenario to match scope.
5. “Preserve current log format” relies on an implicit baseline. The spec should reference a definitive example or authoritative description of the current file JSON schema and TUI layout/color mapping so “identical” can be verified consistently.
6. The print-capture requirement is ambiguous: Should it include stdout, stderr, or both? What log level should such output be assigned, and does it respect the `file`/`tui` thresholds? Without this, behavior will vary.
7. The edge-case requirement “logging pipeline should remain async” is an implementation detail, and “performance should not degrade significantly” is not measurable. Consider reframing this as a user-observable outcome (e.g., no noticeable TUI lag or sync slowdown under high log volume) or explicitly deferring it.
